<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Градиенты -->
    <linearGradient id="nginxGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#1565C0;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="telegramGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0088CC;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#005580;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF6B35;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#CC4A1C;stop-opacity:1"/>
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#6A1B9A;stop-opacity:1"/>
    </linearGradient>
  </defs>

  <!-- External Services Zone -->
  <rect x="20" y="20" width="1160" height="80" rx="10" fill="#FFC107" opacity="0.2" stroke="#FFC107" stroke-width="2"/>
  <text x="40" y="40" font-family="Arial" font-size="12" font-weight="bold">External Services</text>
  
  <!-- Telegram Bot API -->
  <rect x="50" y="50" width="120" height="40" rx="5" fill="#0088CC" opacity="0.8"/>
  <text x="110" y="68" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">Telegram Bot API</text>
  <text x="110" y="80" text-anchor="middle" font-family="Arial" font-size="9" fill="white">Webhooks/Polling</text>

  <!-- AI Services -->
  <rect x="200" y="50" width="100" height="40" rx="5" fill="#4CAF50" opacity="0.8"/>
  <text x="250" y="68" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">AI Services</text>
  <text x="250" y="80" text-anchor="middle" font-family="Arial" font-size="9" fill="white">OpenAI/Gemini</text>

  <!-- CDN -->
  <rect x="330" y="50" width="80" height="40" rx="5" fill="#FF9800" opacity="0.8"/>
  <text x="370" y="68" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">CDN</text>
  <text x="370" y="80" text-anchor="middle" font-family="Arial" font-size="9" fill="white">Static Assets</text>

  <!-- Internet Users -->
  <rect x="1050" y="50" width="100" height="40" rx="5" fill="#607D8B" opacity="0.8"/>
  <text x="1100" y="68" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="white">Web Users</text>
  <text x="1100" y="80" text-anchor="middle" font-family="Arial" font-size="9" fill="white">HTTPS</text>

  <!-- DMZ Zone -->
  <rect x="20" y="140" width="1160" height="120" rx="10" fill="#E8F5E8" opacity="0.3" stroke="#4CAF50" stroke-width="2"/>
  <text x="40" y="160" font-family="Arial" font-size="12" font-weight="bold" color="#2E7D32">DMZ Zone</text>

  <!-- Nginx Reverse Proxy -->
  <rect x="500" y="170" width="200" height="80" rx="8" fill="url(#nginxGrad)"/>
  <text x="600" y="195" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">Nginx</text>
  <text x="600" y="215" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Reverse Proxy</text>
  <text x="600" y="235" text-anchor="middle" font-family="Arial" font-size="11" fill="white">:443 → :3000/:4343</text>

  <!-- Application Zone -->
  <rect x="20" y="300" width="1160" height="200" rx="10" fill="#E3F2FD" opacity="0.3" stroke="#2196F3" stroke-width="2"/>
  <text x="40" y="320" font-family="Arial" font-size="12" font-weight="bold" color="#1565C0">Application Zone</text>

  <!-- Telegram Client Microservice -->
  <rect x="80" y="340" width="180" height="120" rx="8" fill="url(#telegramGrad)"/>
  <text x="170" y="365" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">Telegram Client</text>
  <text x="170" y="385" text-anchor="middle" font-family="Arial" font-size="12" fill="white">NestJS :3001</text>
  
  <!-- Telegram responsibilities -->
  <rect x="90" y="400" width="160" height="50" rx="3" fill="white" opacity="0.9"/>
  <text x="170" y="415" text-anchor="middle" font-family="Arial" font-size="10">• Message formatting</text>
  <text x="170" y="428" text-anchor="middle" font-family="Arial" font-size="10">• Typing simulation</text>
  <text x="170" y="441" text-anchor="middle" font-family="Arial" font-size="10">• Telegram-specific logic</text>

  <!-- Frontend Client -->
  <rect x="320" y="340" width="150" height="120" rx="8" fill="url(#frontendGrad)"/>
  <text x="395" y="365" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">Frontend</text>
  <text x="395" y="385" text-anchor="middle" font-family="Arial" font-size="12" fill="white">NextJS :3000</text>
  
  <!-- Frontend features -->
  <rect x="330" y="400" width="130" height="50" rx="3" fill="white" opacity="0.9"/>
  <text x="395" y="415" text-anchor="middle" font-family="Arial" font-size="10">• Chat Interface</text>
  <text x="395" y="428" text-anchor="middle" font-family="Arial" font-size="10">• User Dashboard</text>
  <text x="395" y="441" text-anchor="middle" font-family="Arial" font-size="10">• Admin Panel</text>

  <!-- API Gateway -->
  <rect x="530" y="340" width="280" height="120" rx="8" fill="url(#apiGrad)"/>
  <text x="670" y="365" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">API Gateway</text>
  <text x="670" y="385" text-anchor="middle" font-family="Arial" font-size="12" fill="white">NestJS :4343</text>
  
  <!-- Business Logic Modules -->
  <rect x="540" y="400" width="50" height="20" rx="2" fill="white" opacity="0.9"/>
  <text x="565" y="412" text-anchor="middle" font-family="Arial" font-size="9">Auth</text>
  
  <rect x="600" y="400" width="50" height="20" rx="2" fill="white" opacity="0.9"/>
  <text x="625" y="412" text-anchor="middle" font-family="Arial" font-size="9">Users</text>
  
  <rect x="660" y="400" width="50" height="20" rx="2" fill="white" opacity="0.9"/>
  <text x="685" y="412" text-anchor="middle" font-family="Arial" font-size="9">Chat</text>
  
  <rect x="720" y="400" width="50" height="20" rx="2" fill="white" opacity="0.9"/>
  <text x="745" y="412" text-anchor="middle" font-family="Arial" font-size="9">Leads</text>
  
  <rect x="580" y="430" width="80" height="20" rx="2" fill="white" opacity="0.9"/>
  <text x="620" y="442" text-anchor="middle" font-family="Arial" font-size="9">AI Gateway</text>

  <!-- AI Agent Microservice -->
  <rect x="870" y="340" width="150" height="120" rx="8" fill="#4CAF50" opacity="0.8"/>
  <text x="945" y="365" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">AI Agent</text>
  <text x="945" y="385" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Python :8000</text>
  
  <!-- AI responsibilities -->
  <rect x="880" y="400" width="130" height="50" rx="3" fill="white" opacity="0.9"/>
  <text x="945" y="415" text-anchor="middle" font-family="Arial" font-size="10">• Prompt engineering</text>
  <text x="945" y="428" text-anchor="middle" font-family="Arial" font-size="10">• Context management</text>
  <text x="945" y="441" text-anchor="middle" font-family="Arial" font-size="10">• AI model integration</text>

  <!-- Data Zone -->
  <rect x="20" y="540" width="1160" height="180" rx="10" fill="#F3E5F5" opacity="0.3" stroke="#9C27B0" stroke-width="2"/>
  <text x="40" y="560" font-family="Arial" font-size="12" font-weight="bold" color="#6A1B9A">Data Zone</text>

  <!-- PostgreSQL -->
  <rect x="200" y="580" width="180" height="100" rx="8" fill="url(#dbGrad)"/>
  <text x="290" y="605" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">PostgreSQL</text>
  <text x="290" y="625" text-anchor="middle" font-family="Arial" font-size="12" fill="white">:5432</text>
  
  <!-- DB Schema -->
  <rect x="210" y="640" width="160" height="30" rx="3" fill="white" opacity="0.9"/>
  <text x="290" y="655" text-anchor="middle" font-family="Arial" font-size="10">users, chats, messages, sessions</text>

  <!-- Redis Cache -->
  <rect x="450" y="580" width="150" height="100" rx="8" fill="#DC382D" opacity="0.8"/>
  <text x="525" y="605" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">Redis</text>
  <text x="525" y="625" text-anchor="middle" font-family="Arial" font-size="12" fill="white">:6379</text>
  
  <!-- Redis Usage -->
  <rect x="460" y="640" width="130" height="30" rx="3" fill="white" opacity="0.9"/>
  <text x="525" y="655" text-anchor="middle" font-family="Arial" font-size="10">Sessions, Chat cache</text>

  <!-- Monitoring & Logging -->
  <rect x="650" y="580" width="180" height="100" rx="8" fill="#607D8B" opacity="0.8"/>
  <text x="740" y="605" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="white">Observability</text>
  <text x="740" y="625" text-anchor="middle" font-family="Arial" font-size="12" fill="white">Monitoring Stack</text>
  
  <!-- Monitoring tools -->
  <rect x="660" y="640" width="160" height="30" rx="3" fill="white" opacity="0.9"/>
  <text x="740" y="655" text-anchor="middle" font-family="Arial" font-size="10">Logs, Metrics, Health checks</text>

  <!-- Infrastructure Layer -->
  <rect x="20" y="750" width="1160" height="40" rx="5" fill="#37474F" opacity="0.2"/>
  <text x="600" y="775" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Infrastructure: Docker + Docker Compose / K8s</text>

  <!-- Connection Lines with Labels -->
  <!-- External to DMZ -->
  <line x1="110" y1="90" x2="170" y2="170" stroke="#0088CC" stroke-width="2"/>
  <text x="130" y="130" font-family="Arial" font-size="9" fill="#0088CC">Webhook</text>
  
  <line x1="250" y1="90" x2="945" y2="340" stroke="#4CAF50" stroke-width="2"/>
  <text x="450" y="200" font-family="Arial" font-size="9" fill="#4CAF50">HTTP API</text>
  
  <line x1="370" y1="90" x2="395" y2="340" stroke="#FF9800" stroke-width="2"/>
  <text x="380" y="200" font-family="Arial" font-size="9" fill="#FF9800">Static Files</text>
  
  <line x1="1100" y1="90" x2="600" y2="170" stroke="#607D8B" stroke-width="2"/>
  <text x="850" y="130" font-family="Arial" font-size="9" fill="#607D8B">HTTPS</text>

  <!-- DMZ to App Zone -->
  <line x1="550" y1="250" x2="395" y2="340" stroke="#4CAF50" stroke-width="2"/>
  <text x="470" y="295" font-family="Arial" font-size="9" fill="#4CAF50">HTTP</text>
  
  <line x1="650" y1="250" x2="670" y2="340" stroke="#4CAF50" stroke-width="2"/>
  <text x="660" y="295" font-family="Arial" font-size="9" fill="#4CAF50">HTTP</text>

  <!-- Internal Service Communication -->
  <line x1="260" y1="400" x2="530" y2="400" stroke="#2196F3" stroke-width="2"/>
  <text x="395" y="392" font-family="Arial" font-size="9" fill="#2196F3">REST API</text>
  
  <line x1="810" y1="400" x2="870" y2="400" stroke="#2196F3" stroke-width="2"/>
  <text x="840" y="392" font-family="Arial" font-size="9" fill="#2196F3">HTTP</text>

  <!-- App to Data Zone -->
  <line x1="600" y1="460" x2="290" y2="580" stroke="#9C27B0" stroke-width="2"/>
  <text x="400" y="520" font-family="Arial" font-size="9" fill="#9C27B0">SQL</text>
  
  <line x1="650" y1="460" x2="525" y2="580" stroke="#DC382D" stroke-width="2"/>
  <text x="580" y="520" font-family="Arial" font-size="9" fill="#DC382D">Cache</text>
  
  <line x1="700" y1="460" x2="740" y2="580" stroke="#607D8B" stroke-width="2" stroke-dasharray="3,3"/>
  <text x="720" y="520" font-family="Arial" font-size="9" fill="#607D8B">Logs</text>

  <!-- Protocol annotations -->
  <rect x="50" y="750" width="100" height="15" fill="#E8F5E8"/>
  <text x="100" y="760" text-anchor="middle" font-family="Arial" font-size="9">HTTP/HTTPS</text>
  
  <rect x="160" y="750" width="80" height="15" fill="#E3F2FD"/>
  <text x="200" y="760" text-anchor="middle" font-family="Arial" font-size="9">REST API</text>
  
  <rect x="250" y="750" width="60" height="15" fill="#F3E5F5"/>
  <text x="280" y="760" text-anchor="middle" font-family="Arial" font-size="9">TCP/SQL</text>

</svg>